{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Journalist Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>

    <!-- Banner -->
    <div id="banner">
        <a href="{% url 'home' %}">
            <img src="{% static 'banner.png' %}" alt="Indie-Go News">
        </a>
    </div>

    <!-- Navigation -->
    <nav id="nav">
        <a href="{% url 'home' %}" class="btn">Main Page</a>
        <form method="post" action="{% url 'logout' %}" style="display:inline;">
            {% csrf_token %}
            <button type="submit">Logout</button>
        </form>
    </nav>

    <!-- Main Dashboard Content -->
    <div class="dashboard-container">
        
        <div style="text-align: center; margin-bottom: 30px;">
            <h1>Journalist Dashboard: {{ user.username }}</h1>
            
            <!-- Create Button -->
            <a href="{% url 'create_article' %}" class="btn">
                + Create New Article
            </a>
        </div>

        <h2>My Submitted Articles</h2>
        
        <ul class="job-list">
          {% for article in my_articles %}
            <li class="job-item">
                <!-- Article Info -->
                <div style="flex-grow: 1;">
                    <a href="{% url 'article_detail' pk=article.pk slug=article.slug %}" style="font-size: 1.2rem;">
                         ðŸ“° {{ article.title }}
                    </a>
                    <br>
                    <!-- Metadata (Type and Date) -->
                    <span style="font-size: 0.9rem; color: #666; font-style: italic;">
                        {{ article.get_type_display }} â€¢ {{ article.created_at|date:"d M Y" }}
                    </span>
                </div>

                <!-- Action Buttons -->
                <div class="action-group">
                    <!-- Edit Button -->
                    <a href="{% url 'edit_article' article.id article.slug %}" class="btn-edit">Edit</a>
                    
                    <!-- Delete Button -->
                    <a href="{% url 'delete_article' article.id article.slug %}" class="btn-delete" style="text-decoration: none;">Delete</a>
                </div>
            </li>
          {% empty %}
            <li class="job-item" style="text-align: center; display: block;">
                <span>You haven't submitted any articles yet. Time to get writing!</span>
            </li>
          {% endfor %}
        </ul>

    </div>

</body>
</html>